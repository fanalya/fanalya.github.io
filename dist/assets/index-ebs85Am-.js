import{e as T,f as g,g as w,h as x,T as C,D as M,m as f,j as y,y as o,k as R,V as E,l as H,n as W,o as P,p as k,q as N,r as z,s as F,t as I}from"./CreateEditModal.vue_vue_type_script_setup_true_lang-BcNSjpYe.js";class O extends M{constructor(){super(...arguments),this.buildDayTableModel=f(W),this.slicer=new P,this.state={labelId:k()}}render(){const{props:t,state:i,context:n}=this,{dateProfile:s,forPrint:e}=t,{options:m}=n,l=this.buildDayTableModel(s,n.dateProfileGenerator),d=this.slicer.sliceProps(t,s,m.nextDayThreshold,n,l),h=t.tableWidth!=null?t.tableWidth/m.aspectRatio:null,r=l.cells.length,a=h!=null?h/r:null;return o("div",{ref:t.elRef,"data-date":t.isoDateStr,className:"fc-multimonth-month",style:{width:t.width},role:"grid","aria-labelledby":i.labelId},o("div",{className:"fc-multimonth-header",style:{marginBottom:a},role:"presentation"},o("div",{className:"fc-multimonth-title",id:i.labelId},n.dateEnv.format(t.dateProfile.currentRange.start,t.titleFormat)),o("table",{className:["fc-multimonth-header-table",n.theme.getClass("table")].join(" "),role:"presentation"},o("thead",{role:"rowgroup"},o(z,{dateProfile:t.dateProfile,dates:l.headerDates,datesRepDistinctDays:!1})))),o("div",{className:["fc-multimonth-daygrid","fc-daygrid","fc-daygrid-body",!e&&"fc-daygrid-body-balanced",e&&"fc-daygrid-body-unbalanced",e&&"fc-daygrid-body-natural"].join(" "),style:{marginTop:-a}},o("table",{className:["fc-multimonth-daygrid-table",n.theme.getClass("table")].join(" "),style:{height:e?"":h},role:"presentation"},o("tbody",{role:"rowgroup"},o(N,Object.assign({},d,{dateProfile:s,cells:l.cells,eventSelection:t.eventSelection,dayMaxEvents:!e,dayMaxEventRows:!e,showWeekNumbers:m.weekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:e}))))))}}class j extends M{constructor(){super(...arguments),this.splitDateProfileByMonth=f(U),this.buildMonthFormat=f(Y),this.scrollElRef=y(),this.firstMonthElRef=y(),this.needsScrollReset=!1,this.handleSizing=t=>{t&&this.updateSize()}}render(){const{context:t,props:i,state:n}=this,{options:s}=t,{clientWidth:e,clientHeight:m}=n,l=n.monthHPadding||0,d=Math.min(e!=null?Math.floor(e/(s.multiMonthMinWidth+l)):1,s.multiMonthMaxColumns)||1,h=100/d+"%",r=e==null?null:e/d-l,a=e!=null&&d===1,u=this.splitDateProfileByMonth(t.dateProfileGenerator,i.dateProfile,t.dateEnv,a?!1:s.fixedWeekCount,s.showNonCurrentDates),S=this.buildMonthFormat(s.multiMonthTitleFormat,u),v=["fc-multimonth",a?"fc-multimonth-singlecol":"fc-multimonth-multicol",r!=null&&r<400?"fc-multimonth-compact":""];return o(E,{elRef:this.scrollElRef,elClasses:v,viewSpec:t.viewSpec},u.map((p,D)=>{const b=R(p.currentRange.start);return o(O,Object.assign({},i,{key:b,isoDateStr:b,elRef:D===0?this.firstMonthElRef:void 0,titleFormat:S,dateProfile:p,width:h,tableWidth:r,clientWidth:e,clientHeight:m}))}))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleSizing),this.requestScrollReset()}componentDidUpdate(t){H(t,this.props)||this.handleSizing(!1),t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}updateSize(){const t=this.scrollElRef.current,i=this.firstMonthElRef.current;t&&this.setState({clientWidth:t.clientWidth,clientHeight:t.clientHeight}),i&&t&&this.state.monthHPadding==null&&this.setState({monthHPadding:t.clientWidth-i.firstChild.offsetWidth})}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.state.monthHPadding!=null){const{currentDate:t}=this.props.dateProfile,i=this.scrollElRef.current,n=i.querySelector(`[data-date="${R(t)}"]`);i.scrollTop=n.getBoundingClientRect().top-this.firstMonthElRef.current.getBoundingClientRect().top,this.needsScrollReset=!1}}shouldComponentUpdate(){return!0}}const q=T(1,"month");function U(c,t,i,n,s){const{start:e,end:m}=t.currentRange;let l=e;const d=[];for(;l.valueOf()<m.valueOf();){const h=i.add(l,q),r={start:c.skipHiddenDays(l),end:c.skipHiddenDays(h,-1,!0)};let a=F({currentRange:r,snapToWeek:!0,fixedWeekCount:n,dateEnv:i});a={start:c.skipHiddenDays(a.start),end:c.skipHiddenDays(a.end,-1,!0)};const u=t.activeRange?I(t.activeRange,s?a:r):null;d.push({currentDate:t.currentDate,isValid:t.isValid,validRange:t.validRange,renderRange:a,activeRange:u,currentRange:r,currentRangeUnit:"month",isRangeAllDay:!0,dateIncrement:t.dateIncrement,slotMinTime:t.slotMaxTime,slotMaxTime:t.slotMinTime}),l=h}return d}const B=g({year:"numeric",month:"long"}),V=g({month:"long"});function Y(c,t){return c||(t[0].currentRange.start.getUTCFullYear()!==t[t.length-1].currentRange.start.getUTCFullYear()?B:V)}const A={multiMonthTitleFormat:g,multiMonthMaxColumns:Number,multiMonthMinWidth:Number};var _=".fc .fc-multimonth{border:1px solid var(--fc-border-color);display:flex;flex-wrap:wrap;overflow-x:hidden;overflow-y:auto}.fc .fc-multimonth-title{font-size:1.2em;font-weight:700;padding:1em 0;text-align:center}.fc .fc-multimonth-daygrid{background:var(--fc-page-bg-color)}.fc .fc-multimonth-daygrid-table,.fc .fc-multimonth-header-table{table-layout:fixed;width:100%}.fc .fc-multimonth-daygrid-table{border-top-style:hidden!important}.fc .fc-multimonth-singlecol .fc-multimonth{position:relative}.fc .fc-multimonth-singlecol .fc-multimonth-header{background:var(--fc-page-bg-color);position:relative;top:0;z-index:2}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid{position:relative;z-index:1}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid-table,.fc .fc-multimonth-singlecol .fc-multimonth-header-table{border-left-style:hidden;border-right-style:hidden}.fc .fc-multimonth-singlecol .fc-multimonth-month:last-child .fc-multimonth-daygrid-table{border-bottom-style:hidden}.fc .fc-multimonth-multicol{line-height:1}.fc .fc-multimonth-multicol .fc-multimonth-month{padding:0 1.2em 1.2em}.fc .fc-multimonth-multicol .fc-daygrid-more-link{border:1px solid var(--fc-event-border-color);display:block;float:none;padding:1px}.fc .fc-multimonth-compact{line-height:1}.fc .fc-multimonth-compact .fc-multimonth-daygrid-table,.fc .fc-multimonth-compact .fc-multimonth-header-table{font-size:.9em}.fc-media-screen .fc-multimonth-singlecol .fc-multimonth-header{position:sticky}.fc-media-print .fc-multimonth{overflow:visible}";w(_);var L=x({name:"@fullcalendar/multimonth",initialView:"multiMonthYear",optionRefiners:A,views:{multiMonth:{component:j,dateProfileGeneratorClass:C,multiMonthMinWidth:350,multiMonthMaxColumns:3},multiMonthYear:{type:"multiMonth",duration:{years:1},fixedWeekCount:!0,showNonCurrentDates:!1}}});export{L as i};
